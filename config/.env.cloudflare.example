# Cloudflare Environment Configuration Template for Fataplus
# Copy this file to .env.cloudflare and fill in your actual values

# =============================================================================
# CLOUDFLARE ACCOUNT CONFIGURATION
# =============================================================================

# Your Cloudflare account ID (found in the sidebar of Cloudflare dashboard)
CF_ACCOUNT_ID=your-cloudflare-account-id

# Cloudflare API token with permissions for Workers, Pages, R2, D1, KV
# Create at: https://dash.cloudflare.com/profile/api-tokens
CF_API_TOKEN=your-cloudflare-api-token

# Zone ID for your domain (found in the sidebar of your domain's dashboard)
CF_ZONE_ID=your-cloudflare-zone-id

# =============================================================================
# CLOUDFLARE WORKERS CONFIGURATION
# =============================================================================

# Worker names for different environments
CF_WORKER_NAME=fataplus-api
CF_WORKER_DEV_NAME=fataplus-api-dev
CF_WORKER_STAGING_NAME=fataplus-api-staging

# Custom domains for workers
CF_WORKER_SUBDOMAIN=api
CF_WORKER_CUSTOM_DOMAIN=api.fata.plus
CF_WORKER_STAGING_DOMAIN=staging-api.fata.plus
CF_WORKER_DEV_DOMAIN=dev-api.fata.plus

# MCP Server domains
CF_MCP_CUSTOM_DOMAIN=mcp.fata.plus
CF_MCP_STAGING_DOMAIN=staging-mcp.fata.plus
CF_MCP_DEV_DOMAIN=dev-mcp.fata.plus

# Worker URL patterns
CF_WORKER_URL=https://api.fata.plus
CF_WORKER_STAGING_URL=https://staging-api.fata.plus
CF_WORKER_DEV_URL=https://dev-api.fata.plus

# MCP Server URL patterns
CF_MCP_URL=https://mcp.fata.plus
CF_MCP_STAGING_URL=https://staging-mcp.fata.plus
CF_MCP_DEV_URL=https://dev-mcp.fata.plus

# =============================================================================
# CLOUDFLARE PAGES CONFIGURATION
# =============================================================================

# Pages project name
CF_PAGES_PROJECT_NAME=fataplus-frontend

# Custom domains for Pages
CF_PAGES_CUSTOM_DOMAIN=app.fata.plus
CF_PAGES_STAGING_DOMAIN=staging.fata.plus
CF_PAGES_DEV_DOMAIN=dev.fata.plus

# Pages URLs
CF_PAGES_URL=https://app.fata.plus
CF_PAGES_STAGING_URL=https://staging.fata.plus
CF_PAGES_DEV_URL=https://dev.fata.plus

# Build configuration
CF_PAGES_BUILD_COMMAND=npm run build
CF_PAGES_BUILD_OUTPUT_DIR=out
CF_PAGES_NODE_VERSION=18

# =============================================================================
# CLOUDFLARE R2 STORAGE CONFIGURATION
# =============================================================================

# R2 bucket names
R2_BUCKET_NAME=fataplus-storage
R2_MODELS_BUCKET=fataplus-ml-models
R2_BACKUPS_BUCKET=fataplus-backups
R2_LOGS_BUCKET=fataplus-logs

# R2 endpoint (replace with your account ID)
R2_ENDPOINT=https://your-account-id.r2.cloudflarestorage.com

# R2 access credentials
R2_ACCESS_KEY_ID=your-r2-access-key-id
R2_SECRET_ACCESS_KEY=your-r2-secret-access-key

# Public URL for R2 bucket (configure custom domain in Cloudflare)
R2_PUBLIC_URL=https://storage.yourdomain.com
R2_MODELS_PUBLIC_URL=https://models.yourdomain.com

# =============================================================================
# CLOUDFLARE D1 DATABASE CONFIGURATION
# =============================================================================

# D1 database name and ID
CF_D1_DATABASE_NAME=fataplus-db
CF_D1_DATABASE_ID=your-d1-database-id

# D1 API configuration
CF_D1_API_TOKEN=your-d1-api-token

# =============================================================================
# CLOUDFLARE KV CONFIGURATION
# =============================================================================

# KV namespace names and IDs
CF_KV_NAMESPACE_NAME=fataplus-cache
CF_KV_NAMESPACE_ID=your-kv-namespace-id
CF_KV_PREVIEW_ID=your-kv-preview-id

# Additional KV namespaces for different purposes
CF_KV_SESSIONS_ID=your-sessions-kv-id
CF_KV_ANALYTICS_ID=your-analytics-kv-id
CF_KV_CONFIG_ID=your-config-kv-id

# KV API configuration
CF_KV_API_TOKEN=your-kv-api-token

# =============================================================================
# CLOUDFLARE ANALYTICS AND MONITORING
# =============================================================================

# Analytics Engine dataset
CF_ANALYTICS_TOKEN=your-analytics-token
CF_ANALYTICS_DATASET=fataplus-analytics

# Logs configuration
CF_LOGS_ENABLED=true
CF_LOGS_DESTINATION=r2://fataplus-logs
CF_LOGS_FIELDS=datetime,rayId,status,edgeResponseBytes,clientIP,userAgent

# =============================================================================
# CLOUDFLARE AI AND VECTORIZE
# =============================================================================

# Cloudflare Workers AI
CF_AI_API_TOKEN=your-ai-api-token
CF_AI_ACCOUNT_ID=your-ai-account-id

# Vectorize configuration
CF_VECTORIZE_INDEX_NAME=fataplus-search
CF_VECTORIZE_INDEX_ID=your-vectorize-index-id

# =============================================================================
# CDN AND EDGE CONFIGURATION
# =============================================================================

# Cache configuration
CF_CDN_ENABLED=true
CF_CACHE_TTL=3600
CF_EDGE_CACHING=true
CF_CACHE_PURGE_TOKEN=your-cache-purge-token

# Edge optimization
CF_MINIFY_JS=true
CF_MINIFY_CSS=true
CF_MINIFY_HTML=true
CF_AUTO_OPTIMIZE=true

# =============================================================================
# APPLICATION CONFIGURATION
# =============================================================================

# Environment designation
ENVIRONMENT=production
DEPLOYMENT_ENVIRONMENT=production

# Application URLs
NEXT_PUBLIC_API_URL=https://api.fata.plus
NEXT_PUBLIC_AI_API_URL=https://api.fata.plus/ai
NEXT_PUBLIC_FRONTEND_URL=https://app.fata.plus
NEXT_PUBLIC_MCP_URL=https://mcp.fata.plus

# CORS origins
CORS_ORIGINS=https://fata.plus,https://app.fata.plus,https://mcp.fata.plus,https://*.pages.dev

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# Primary database URL (external PostgreSQL or D1)
DATABASE_URL=postgresql://user:password@host:port/database
# Alternative: Use D1 database
# DATABASE_URL=d1://fataplus-db

# Redis/KV configuration
REDIS_URL=redis://user:password@host:port
# Alternative: Use Cloudflare KV
# REDIS_URL=kv://fataplus-cache

# =============================================================================
# AUTHENTICATION AND SECURITY
# =============================================================================

# JWT configuration
JWT_SECRET_KEY=your-super-secure-jwt-secret-key-at-least-32-characters-long
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7
JWT_ALGORITHM=HS256

# Password hashing
PASSWORD_HASH_ROUNDS=12

# Session configuration
SESSION_SECRET=your-session-secret-key
SESSION_COOKIE_SECURE=true
SESSION_COOKIE_HTTPONLY=true
SESSION_COOKIE_SAMESITE=strict

# =============================================================================
# EXTERNAL API INTEGRATIONS
# =============================================================================

# Weather API
OPENWEATHER_API_KEY=your-openweather-api-key
WEATHER_API_URL=https://api.openweathermap.org/data/2.5

# Payment processing (Stripe)
STRIPE_PUBLIC_KEY=pk_live_your-stripe-public-key
STRIPE_SECRET_KEY=sk_live_your-stripe-secret-key
STRIPE_WEBHOOK_SECRET=whsec_your-stripe-webhook-secret
STRIPE_ENDPOINT_SECRET=your-stripe-endpoint-secret

# Email service (SendGrid)
SENDGRID_API_KEY=your-sendgrid-api-key
SENDGRID_FROM_EMAIL=noreply@yourdomain.com
SENDGRID_FROM_NAME=Fataplus AgriTech

# Mobile money integration
AIRTEL_API_KEY=your-airtel-api-key
AIRTEL_API_SECRET=your-airtel-api-secret
AIRTEL_ENVIRONMENT=production
AIRTEL_BASE_URL=https://openapi.airtel.africa

# SMS service
SMS_API_KEY=your-sms-api-key
SMS_API_SECRET=your-sms-api-secret

# =============================================================================
# AI AND ML SERVICES
# =============================================================================

# OpenAI API
OPENAI_API_KEY=your-openai-api-key
OPENAI_ORG_ID=your-openai-org-id

# Hugging Face
HUGGINGFACE_API_KEY=your-huggingface-api-key

# =============================================================================
# MAPPING AND GEOLOCATION
# =============================================================================

# Mapbox
NEXT_PUBLIC_MAPBOX_TOKEN=your-mapbox-access-token
MAPBOX_SECRET_TOKEN=your-mapbox-secret-token

# Google Maps (alternative)
NEXT_PUBLIC_GOOGLE_MAPS_API_KEY=your-google-maps-api-key

# =============================================================================
# MONITORING AND LOGGING
# =============================================================================

# Sentry error tracking
NEXT_PUBLIC_SENTRY_DSN=your-sentry-dsn
SENTRY_AUTH_TOKEN=your-sentry-auth-token
SENTRY_ORG=your-sentry-org
SENTRY_PROJECT=your-sentry-project

# Analytics
NEXT_PUBLIC_ANALYTICS_ID=your-analytics-id
NEXT_PUBLIC_GTM_ID=your-google-tag-manager-id

# Log level
LOG_LEVEL=info

# =============================================================================
# DEVELOPMENT AND TESTING
# =============================================================================

# Development mode flags
DEBUG=false
VERBOSE_LOGGING=false
ENABLE_API_DOCS=true

# Test environment overrides (for staging/dev)
# Uncomment and modify for non-production environments
# STRIPE_PUBLIC_KEY=pk_test_your-test-stripe-key
# STRIPE_SECRET_KEY=sk_test_your-test-stripe-key
# OPENAI_API_KEY=your-test-openai-key
# SENDGRID_API_KEY=your-test-sendgrid-key

# =============================================================================
# BACKUP AND DISASTER RECOVERY
# =============================================================================

# Backup configuration
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_ENCRYPTION_KEY=your-backup-encryption-key

# =============================================================================
# PERFORMANCE AND SCALING
# =============================================================================

# Resource limits
MAX_REQUEST_SIZE=50MB
MAX_UPLOAD_SIZE=100MB
REQUEST_TIMEOUT=30000
CONNECTION_POOL_SIZE=20

# Rate limiting
RATE_LIMIT_WINDOW=900
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_SKIP_SUCCESSFUL=true

# =============================================================================
# FEATURE FLAGS
# =============================================================================

# Feature toggles
FEATURE_ADVANCED_ANALYTICS=true
FEATURE_AI_RECOMMENDATIONS=true
FEATURE_REAL_TIME_CHAT=true
FEATURE_MOBILE_MONEY=true
FEATURE_OFFLINE_SYNC=true
FEATURE_MULTI_LANGUAGE=true

# =============================================================================
# LOCALIZATION
# =============================================================================

# Default language and locale
DEFAULT_LANGUAGE=en
DEFAULT_LOCALE=en-US
SUPPORTED_LANGUAGES=en,fr,mg,sw

# Timezone
DEFAULT_TIMEZONE=Africa/Nairobi

# =============================================================================
# CUSTOM DOMAINS AND SSL
# =============================================================================

# Domain configuration
PRIMARY_DOMAIN=fata.plus
API_DOMAIN=api.fata.plus
APP_DOMAIN=app.fata.plus
MCP_DOMAIN=mcp.fata.plus
STORAGE_DOMAIN=storage.fata.plus

# SSL configuration
SSL_ENABLED=true
FORCE_HTTPS=true
HSTS_MAX_AGE=31536000