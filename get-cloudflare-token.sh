#!/bin/bash

echo "ğŸ”‘ RÃ©cupÃ©ration du Token Cloudflare"
echo "=================================="
echo ""
echo "Vous vous Ãªtes connectÃ© Ã  Cloudflare, parfait ! ğŸ‰"
echo ""
echo "Pour synchroniser la connexion avec cet environnement sandbox,"
echo "nous avons besoin de votre token d'API Cloudflare complet."
echo ""
echo "ğŸ“‹ Ã‰tapes pour rÃ©cupÃ©rer votre token :"
echo ""
echo "1. ğŸŒ Allez sur : https://dash.cloudflare.com/profile/api-tokens"
echo ""
echo "2. ğŸ” Recherchez un token existant nommÃ© 'Wrangler' ou 'Workers'"
echo "   OU"
echo "   â• Cliquez sur 'CrÃ©er un token'"
echo ""
echo "3. âš™ï¸  Si vous crÃ©ez un nouveau token, utilisez le modÃ¨le :"
echo "   ğŸ“¦ 'Edit Cloudflare Workers' template"
echo "   OU configurez les permissions :"
echo "   - Zone:Zone:Read"
echo "   - Zone:DNS:Edit"  
echo "   - Account:Cloudflare Workers:Edit"
echo "   - Account:Pages:Edit"
echo "   - Account:D1:Edit"
echo "   - Account:R2:Edit"
echo ""
echo "4. ğŸ“ Copiez le TOKEN COMPLET (40+ caractÃ¨res)"
echo ""
echo "5. ğŸš€ ExÃ©cutez : ./setup-cloudflare-manual.sh \"VOTRE-TOKEN-COMPLET\""
echo ""
echo "ğŸ“Š Informations actuelles :"
echo "- Token partiel trouvÃ© : 0769d254d9faa2f596648c4ecb87c048c1a86 (34 caractÃ¨res - incomplet)"
echo "- Token requis : 40+ caractÃ¨res"
echo "- Statut : âŒ Non authentifiÃ©"
echo ""
echo "ğŸ’¡ Une fois le token configurÃ©, nous pourrons :"
echo "âœ“ VÃ©rifier la connexion"
echo "âœ“ Lister vos ressources Cloudflare"
echo "âœ“ DÃ©ployer votre application"
echo ""
echo "â“ Besoin d'aide ? Consultez : cloudflare-token-guide.md"